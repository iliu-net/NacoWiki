<!DOCTYPE html>
<html lang="en">
<head>
  <!--   Standard HTML head fragment  -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>events-list : NacoWiki</title>
  <meta name="date" content="2023-03-09"/>
  <!-- link rel="shortcut icon" href="/NacoWiki//imgs/nanowiki-favicon.png" type="image/png" -->

  <!-- syntax hilite -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/default.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
  <!-- additional languages -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/languages/awk.min.js"></script>
</head>
<body>
  <div class="page">
    <!-- body header -->
    <header>
      <h1 class="title">
	<a href="/NacoWiki/"><img src="/NacoWiki//nanowiki-logo.png" width=32 height=32></a>
	events-list</h1>
      <hr/>
    </header>

    <div id="main" class="main">
    <h3 id="action%3A%5Bname%5D" name="action%3A%5Bname%5D">action:[name]</h3>
<p>This event is called in response of a <code>$_POST[action]</code> in the
HTTP request.  It is used to trigger a specific action in response
to a HTTP post request.</p>
<p>There are no special event parameters</p>
<hr />
<ul>
<li>nacowiki.php,520
<hr /></li>
</ul>
<h3 id="api%3A%5Bname%5D" name="api%3A%5Bname%5D">api:[name]</h3>
<p>This event is called in response of a <code>$_GET[api]</code> in the URL's
query string.  It is used to trigger a specific REST API end point.</p>
<p>Event data:</p>
<ul>
<li><code>status</code> (output): pre-loaded with Plugins::API_OK to optimistically
assume success.  Event handlers should change this to
Plugins:API_ERROR in the event of an error.</li>
<li><code>msg</code> (output): event handler <strong>must</strong> fill this if an error
happens.  The convenience function Plugins::apiError is available
to help this.</li>
<li><strong>additional items</strong> (output): The API end-point shoudl populate the
event data with additional items.  The whole event data array
is then send to the client in JSON format.</li>
</ul>
<hr />
<ul>
<li>nacowiki.php,490
<hr /></li>
</ul>
<h3 id="check_readable" name="check_readable">check_readable</h3>
<p>This event can be used by plugins that implement access control.
This event is used to check if the given file path can be read
by the current user.</p>
<p>Event data:</p>
<ul>
<li><code>page</code> (input): URL being checked</li>
<li><code>fpath</code> (input): File system path to the URL.</li>
<li><code>access</code> (output): pre-loaded with the access.  Event handler
must populate with the right access.  This can be
one of:
<ul>
<li><code>true</code> : access is allowed</li>
<li><code>false</code> : access is denied</li>
<li><code>NULL</code> : access is denied due to not being authenticated.</li>
</ul></li>
</ul>
<hr />
<ul>
<li>nacowiki.php,297
<hr /></li>
</ul>
<h3 id="check_writable" name="check_writable">check_writable</h3>
<p>This event can be used by plugins that implement access control.
This event is used to check if the given file path can be written
by the current user.</p>
<p>Event data:</p>
<ul>
<li><code>page</code> (input): URL being checked</li>
<li><code>fpath</code> (input): File system path to the URL.</li>
<li><code>access</code> (output): pre-loaded with the access.  Event handler
must populate with the right access.  This can be
one of:
<ul>
<li><code>true</code> : access is allowed</li>
<li><code>false</code> : access is denied</li>
<li><code>NULL</code> : access is denied due to not being authenticated.</li>
</ul></li>
</ul>
<hr />
<ul>
<li>nacowiki.php,258
<hr /></li>
</ul>
<h3 id="cli%3A%5Bname%5D" name="cli%3A%5Bname%5D">cli:[name]</h3>
<p>This event is used to handle CLI the <code>[name]</code> sub-command.</p>
<p>The event data contains the command line arguments for the
sub-command.</p>
<hr />
<ul>
<li>nacowiki.php,411
<hr /></li>
</ul>
<h3 id="context_loaded" name="context_loaded">context_loaded</h3>
<p>This event is called right after the context has been loaded.</p>
<p>There are no special event parameters</p>
<hr />
<ul>
<li>nacowiki.php,452
<hr /></li>
</ul>
<h3 id="do%3A%5Bname%5D" name="do%3A%5Bname%5D">do:[name]</h3>
<p>This event is called in response of a <code>$_GET[do]</code> in the URL's
query string.  It is used to trigger a specific command.</p>
<p>There are no special event parameters</p>
<hr />
<ul>
<li>nacowiki.php,478
<hr /></li>
</ul>
<h3 id="edit%3A%5Bfile-extension%5D" name="edit%3A%5Bfile-extension%5D">edit:[file-extension]</h3>
<p>This event is used by media handlers to output to the web
browser a possibly custom page to edit media.</p>
<p>Typically this is used to pre-format the editable content
separating metadata and body text.  Also, to display
a codemirror with the right modules loaded and initialized
to the right mode.</p>
<p>Event data:</p>
<ul>
<li><code>ext</code> (input) : file extension for the given media</li>
</ul>
<hr />
<ul>
<li>classes/Core.php,690
<hr /></li>
</ul>
<h3 id="error_msg" name="error_msg">error_msg</h3>
<p>This event is called to implement custom error handlers.</p>
<p>Event data:</p>
<ul>
<li><code>msg</code> (input) : error message</li>
<li><code>tag</code> (input) : error tag</li>
<li><code>opts</code> (input) : flags <code>EM_NONE</code> or <code>EM_PHPERR</code>.</li>
</ul>
<hr />
<ul>
<li>nacowiki.php,219
<hr /></li>
</ul>
<h3 id="layout%3A%5Bfile-extension%5D" name="layout%3A%5Bfile-extension%5D">layout:[file-extension]</h3>
<p>This event is used by media handlers to output to the web
browser a possibly custom layout for the given media type.</p>
<p>Event data:</p>
<ul>
<li><code>ext</code> (input) : file extension for the given media</li>
</ul>
<hr />
<ul>
<li>classes/Core.php,489
<hr /></li>
</ul>
<h3 id="missing%3A%5Bfile-extension%5D" name="missing%3A%5Bfile-extension%5D">missing:[file-extension]</h3>
<p>This event is used by media handlers to output to the web
browser a possibly custom page to create missing media.</p>
<p>Event data:</p>
<ul>
<li><code>ext</code> (input) : file extension for the given media</li>
</ul>
<hr />
<ul>
<li>classes/Core.php,533
<hr /></li>
</ul>
<h3 id="missing_page" name="missing_page">missing_page</h3>
<p>This event is used to handle http 404 errors (missing resource)</p>
<p>There are no special event parameters</p>
<hr />
<ul>
<li>nacowiki.php,557
<hr /></li>
</ul>
<h3 id="post-render" name="post-render">post-render</h3>
<p>This event is used by plugins to post-process data.  This
specific event triggers for any file regardless of the
file extension.</p>
<p>Plugins using this hook can post-process the generated HTML.</p>
<p>Event data:</p>
<ul>
<li><code>html</code> (input|output) : current page contents which will be eventually rendered.</li>
<li><code>ext</code> (input) : file extension for the given media</li>
</ul>
<hr />
<ul>
<li>classes/Core.php,473
<hr /></li>
</ul>
<h3 id="post-render%3A%5Bfile-extension%5D" name="post-render%3A%5Bfile-extension%5D">post-render:[file-extension]</h3>
<p>This event is used by plugins to post-process data.  This
specific event only triggers for pages matching the given
file extension.</p>
<p>Plugins using this hook can post-process the generated HTML.</p>
<p>Event data:</p>
<ul>
<li><code>html</code> (input|output) : current page contents which will be eventually rendered.</li>
<li><code>ext</code> (input) : file extension for the given media</li>
</ul>
<hr />
<ul>
<li>classes/Core.php,459
<hr /></li>
</ul>
<h3 id="postSave" name="postSave">postSave</h3>
<p>This event is used by plugins to examine data after it
was saved to storage.</p>
<p>Usually used to update additional meta data files, like for
example update a tag cloud index.</p>
<p>Event data:</p>
<ul>
<li><code>text</code> (input) : textual data that was saved</li>
<li><code>prev</code> (input) : previous file contents (or NULL)</li>
<li><code>ext</code> (input) : file extension for the given media</li>
</ul>
<hr />
<ul>
<li>classes/Core.php,821
<hr /></li>
</ul>
<h3 id="postSave%3A%5Bfile-extension%5D" name="postSave%3A%5Bfile-extension%5D">postSave:[file-extension]</h3>
<p>This event is used by media handlers to examine data after it
was saved to storage.</p>
<p>Event data:</p>
<ul>
<li><code>text</code> (input) : textual data that was saved</li>
<li><code>prev</code> (input) : previous file contents (or NULL)</li>
<li><code>ext</code> (input) : file extension for the given media</li>
</ul>
<hr />
<ul>
<li>classes/Core.php,836
<hr /></li>
</ul>
<h3 id="pre-render" name="pre-render">pre-render</h3>
<p>This event is used by plugins to pre-process data.  This
specific event triggers for any file regardless of the
file extension.</p>
<p>Since this is a pre-render event, the <code>html</code> element
actually contains text before HTML is generated, but may
be modified by the pre-render hook.</p>
<p>Event data:</p>
<ul>
<li><code>html</code> (input|output) : current page contents which will be eventually rendered.</li>
<li><code>ext</code> (input) : file extension for the given media</li>
</ul>
<hr />
<ul>
<li>classes/Core.php,428
<hr /></li>
</ul>
<h3 id="pre-render%3A%5Bfile-extension%5D" name="pre-render%3A%5Bfile-extension%5D">pre-render:[file-extension]</h3>
<p>This event is used by plugins to pre-process data.  This
specific event only triggers for pages matching the given
file extension.</p>
<p>Since this is a pre-render event, the <code>html</code> element
actually contains text before HTML is generated, but may
be modified by the pre-render hook.</p>
<p>Event data:</p>
<ul>
<li><code>html</code> (input|output) : current page contents which will be eventually rendered.</li>
<li><code>ext</code> (input) : file extension for the given media</li>
</ul>
<hr />
<ul>
<li>classes/Core.php,412
<hr /></li>
</ul>
<h3 id="preSave" name="preSave">preSave</h3>
<p>This event is used by plugins to pre-parse text before
saving to storage.</p>
<p>Hooks can examine the data to be saved in the <code>text</code> element
of the event array and modify it if needed.</p>
<p>Event data:</p>
<ul>
<li><code>text</code> (input|output) : textual data to save</li>
<li><code>prev</code> (input) : current file contents (or NULL)</li>
<li><code>ext</code> (input) : file extension for the given media</li>
</ul>
<hr />
<ul>
<li>classes/Core.php,759
<hr /></li>
</ul>
<h3 id="preSave%3A%5Bfile-extension%5D" name="preSave%3A%5Bfile-extension%5D">preSave:[file-extension]</h3>
<p>This event is used by plugins to pre-parse text before
saving to storage.</p>
<p>Hooks can examine the data to be saved in the <code>text</code> element
of the event array and modify it if needed.</p>
<p>Usually is used by media handlers to pre-parse data, separating
header meta data from actual content.  And sanitizing any
problematic input.</p>
<p>Event data:</p>
<ul>
<li><code>text</code> (input|output) : textual data to save</li>
<li><code>prev</code> (input) : current file contents (or NULL)</li>
<li><code>ext</code> (input) : file extension for the given media</li>
</ul>
<hr />
<ul>
<li>classes/Core.php,774
<hr /></li>
</ul>
<h3 id="read%3A%5Bfile-extension%5D" name="read%3A%5Bfile-extension%5D">read:[file-extension]</h3>
<p>This event is used for media handlers to parse source text
and extract header meta data, and the actual payload containing
the body of the page content.</p>
<p>Event data:</p>
<ul>
<li><code>filepath</code> (input) : file system path to source</li>
<li><code>url</code> (input) : web url to source</li>
<li><code>source</code> (input) : text containing the page document verbatim</li>
<li><code>filemeta</code> (input) : pre-loaded file-system based meta data</li>
<li><code>meta</code> (output) : to be filed by event handler with meta-data.
it is pre-loaded with data derived from filemeta.</li>
<li><code>payload</code> (output) : to be filed by event handler with the body of the page.</li>
<li><code>ext</code> (input) : file extension for the given media</li>
</ul>
<hr />
<ul>
<li>classes/Core.php,346
<hr /></li>
</ul>
<h3 id="read_folder" name="read_folder">read_folder</h3>
<p>This event is used to handle navigation to a folder.  i.e.
URL is a folder.</p>
<p>There are no special event parameters</p>
<hr />
<ul>
<li>nacowiki.php,537
<hr /></li>
</ul>
<h3 id="read_page" name="read_page">read_page</h3>
<p>This event is used to handle navigation to a page.  i.e.
URL is an actual file.</p>
<p>There are no special event parameters</p>
<hr />
<ul>
<li>nacowiki.php,549
<hr /></li>
</ul>
<h3 id="render%3A%5Bfile-extension%5D" name="render%3A%5Bfile-extension%5D">render:[file-extension]</h3>
<p>This event is used by media handlers to convert the
source to HTML.</p>
<p>The hook must take the <code>html</code> element from the event
which contains possibily pre-processed input, and
convert it to HTML.</p>
<p>Event data:</p>
<ul>
<li><code>html</code> (input|output) : current page contents which will be eventually rendered.</li>
<li><code>ext</code> (input) : file extension for the given media</li>
</ul>
<hr />
<ul>
<li>classes/Core.php,444
<hr /></li>
</ul>
<h3 id="run_init" name="run_init">run_init</h3>
<p>This event is called right when the <code>run</code> method is called.
Plugins can use this to initialize things.  Specifically
for using the <code>declareContext</code>.</p>
<p>There are no special event parameters</p>
<hr />
<ul>
<li>nacowiki.php,431
<hr /></li>
</ul>
<h3 id="save%3A%5Bfile-extension%5D" name="save%3A%5Bfile-extension%5D">save:[file-extension]</h3>
<p>This event is used by plugins to save to storage.</p>
<p>Usually is used by media handlers to save data using custom
file formats.</p>
<p>Event data:</p>
<ul>
<li><code>saved</code> (output) : flag to indicates that we saved or not
the file.  If this is set to <code>false</code>, then <code>postSave</code> events
will be skipped.  Pre-set to <code>true</code> by default.</li>
<li><code>text</code> (input) : textual data to save</li>
<li><code>prev</code> (input) : current file contents (or NULL)</li>
<li><code>ext</code> (input) : file extension for the given media</li>
</ul>
<hr />
<ul>
<li>classes/Core.php,794
<hr /></li>
</ul>    </div>
  </div>

<footer>
    <hr/>
  <small>
    SiteGen 1.0 <a href="https://github.com/iliu-net/NacoWiki/" target="_blank">NacoWiki</a><br/>
    Copyright &copy; 2023 Alejandro Liu <br/>
    All rights reserved<br/>
  </small>

</footer>
  <script>hljs.highlightAll();</script>
</body>
</html>
